<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empanada Production Calculator</title>
    <style>
        :root {
            --primary: #FF6B35;
            --secondary: #004E89;
            --accent: #FFBE0B;
            --light: #F7F7FF;
            --dark: #292929;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light);
            color: var(--dark);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--primary);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        h1 {
            margin: 0;
            font-size: 2.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .calculator-section {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .calculator {
            flex: 1;
            min-width: 300px;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .calculator h2 {
            color: var(--secondary);
            margin-top: 0;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 10px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--secondary);
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            width: 100%;
            margin-top: 10px;
        }
        
        button:hover {
            background-color: var(--secondary);
        }
        
        .results {
            margin-top: 20px;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 5px;
            border-left: 4px solid var(--accent);
        }
        
        .results h3 {
            margin-top: 0;
            color: var(--secondary);
        }
        
        .recipe-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .recipe-card h2 {
            color: var(--secondary);
            margin-top: 0;
        }
        
        .recipe-columns {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .recipe-column {
            flex: 1;
            min-width: 250px;
        }
        
        .ingredient-list, .instructions {
            margin: 0;
            padding-left: 20px;
        }
        
        .ingredient-list li {
            margin-bottom: 8px;
        }
        
        @media (max-width: 768px) {
            .calculator {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Empanada Production Calculator</h1>
            <p class="subtitle">Calculate ingredients for your empanada business</p>
        </header>
        
        <div class="calculator-section">
            <div class="calculator">
                <h2>Order Calculator</h2>
                <p>Calculate ingredients needed for a specific number of empanadas.</p>
                
                <div class="input-group">
                    <label for="orderQuantity">Number of Empanadas Needed:</label>
                    <input type="number" id="orderQuantity" min="1" value="12">
                </div>
                
                <button id="calculateOrder">Calculate Ingredients</button>
                
                <div class="results" id="orderResults" style="display: none;">
                    <h3>Ingredients Needed</h3>
                    <div id="orderResultsContent"></div>
                </div>
            </div>
            
            <div class="calculator">
                <h2>Ingredient Calculator</h2>
                <p>Calculate how many empanadas you can make with available ingredients.</p>
                
                <div class="input-group">
                    <label for="meatAvailable">Meat Available (grams):</label>
                    <input type="number" id="meatAvailable" min="0" value="1000">
                </div>
                
                <div class="input-group">
                    <label for="ingredientType">Calculate based on:</label>
                    <select id="ingredientType">
                        <option value="meat">Meat</option>
                        <option value="dough">Dough</option>
                    </select>
                </div>
                
                <button id="calculateFromIngredients">Calculate Production</button>
                
                <div class="results" id="ingredientResults" style="display: none;">
                    <h3>Production Capacity</h3>
                    <div id="ingredientResultsContent"></div>
                </div>
            </div>
        </div>
        
        <div class="recipe-card">
            <h2>Standard Recipes</h2>
            
            <div class="recipe-columns">
                <div class="recipe-column">
                    <h3>Dough (per batch - makes 12 empanadas)</h3>
                    <ul class="ingredient-list">
                        <li>Cake flour: 250g</li>
                        <li>Bread flour: 200g</li>
                        <li>Cold margarine: 200g</li>
                        <li>Salt: 2 tsp</li>
                        <li>Paprika: 1 tsp</li>
                        <li>Turmeric: ½ tsp</li>
                        <li>Baking powder: ¼ tsp</li>
                        <li>Milk powder: 2 tsp</li>
                        <li>Garlic/onion stock powder: 2 tsp</li>
                        <li>White vinegar: 1 tsp</li>
                        <li>Ice-cold water: ~220ml</li>
                    </ul>
                </div>
                
                <div class="recipe-column">
                    <h3>Filling (per batch - for 12 empanadas)</h3>
                    <ul class="ingredient-list">
                        <li>Meat: 333g (beef or chicken)</li>
                        <li>Mixed vegetables: 100g</li>
                        <li>Potato: 133g, cubed</li>
                        <li>Onion: 33g, diced</li>
                        <li>Thickener: 1 tbsp flour/cornstarch</li>
                        <li>Water/stock: 50ml</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Constants
        const DOUGH_BATCH_SIZE = 12;
        const FILLING_BATCH_SIZE = 12;
        
        // Dough ingredients per batch
        const doughRecipe = {
            cakeFlour: 250,
            breadFlour: 200,
            margarine: 200,
            salt: 2,
            paprika: 1,
            turmeric: 0.5,
            bakingPowder: 0.25,
            milkPowder: 2,
            stockPowder: 2,
            vinegar: 1,
            water: 220
        };
        
        // Filling ingredients per batch
        const fillingRecipe = {
            meat: 333,
            vegetables: 100,
            potato: 133,
            onion: 33,
            thickener: 1,
            liquid: 50
        };
        
        // DOM elements
        const orderQuantityInput = document.getElementById('orderQuantity');
        const calculateOrderBtn = document.getElementById('calculateOrder');
        const orderResults = document.getElementById('orderResults');
        const orderResultsContent = document.getElementById('orderResultsContent');
        
        const meatAvailableInput = document.getElementById('meatAvailable');
        const ingredientTypeSelect = document.getElementById('ingredientType');
        const calculateFromIngredientsBtn = document.getElementById('calculateFromIngredients');
        const ingredientResults = document.getElementById('ingredientResults');
        const ingredientResultsContent = document.getElementById('ingredientResultsContent');
        
        // Event listeners
        calculateOrderBtn.addEventListener('click', calculateForOrder);
        calculateFromIngredientsBtn.addEventListener('click', calculateFromIngredients);
        
        // Calculate ingredients needed for a specific number of empanadas
        function calculateForOrder() {
            const quantity = parseInt(orderQuantityInput.value);
            
            if (isNaN(quantity) || quantity < 1) {
                alert('Please enter a valid number of empanadas');
                return;
            }
            
            // Calculate number of batches needed (round up)
            const doughBatches = Math.ceil(quantity / DOUGH_BATCH_SIZE);
            const fillingBatches = Math.ceil(quantity / FILLING_BATCH_SIZE);
            
            // Calculate ingredients
            const doughIngredients = calculateIngredients(doughRecipe, doughBatches);
            const fillingIngredients = calculateIngredients(fillingRecipe, fillingBatches);
            
            // Display results
            let html = `
                <p><strong>For ${quantity} empanadas you need:</strong></p>
                <p>Dough batches: ${doughBatches}</p>
                <p>Filling batches: ${fillingBatches}</p>
                
                <h4>Dough Ingredients:</h4>
                <ul>
                    <li>Cake flour: ${doughIngredients.cakeFlour}g</li>
                    <li>Bread flour: ${doughIngredients.breadFlour}g</li>
                    <li>Cold margarine: ${doughIngredients.margarine}g</li>
                    <li>Salt: ${doughIngredients.salt}tsp</li>
                    <li>Paprika: ${doughIngredients.paprika}tsp</li>
                    <li>Turmeric: ${doughIngredients.turmeric}tsp</li>
                    <li>Baking powder: ${doughIngredients.bakingPowder}tsp</li>
                    <li>Milk powder: ${doughIngredients.milkPowder}tsp</li>
                    <li>Garlic/onion stock powder: ${doughIngredients.stockPowder}tsp</li>
                    <li>White vinegar: ${doughIngredients.vinegar}tsp</li>
                    <li>Ice-cold water: ~${doughIngredients.water}ml</li>
                </ul>
                
                <h4>Filling Ingredients:</h4>
                <ul>
                    <li>Meat: ${fillingIngredients.meat}g</li>
                    <li>Mixed vegetables: ${fillingIngredients.vegetables}g</li>
                    <li>Potato: ${fillingIngredients.potato}g</li>
                    <li>Onion: ${fillingIngredients.onion}g</li>
                    <li>Thickener: ${fillingIngredients.thickener}tbsp</li>
                    <li>Water/stock: ${fillingIngredients.liquid}ml</li>
                </ul>
            `;
            
            orderResultsContent.innerHTML = html;
            orderResults.style.display = 'block';
        }
        
        // Calculate how many empanadas can be made from available ingredients
        function calculateFromIngredients() {
            const meatAvailable = parseInt(meatAvailableInput.value);
            const calculationType = ingredientTypeSelect.value;
            
            if (isNaN(meatAvailable) {
                alert('Please enter a valid amount of meat');
                return;
            }
            
            let empanadasPossible, batchesPossible;
            let limitingFactor = "";
            
            if (calculationType === 'meat') {
                // Calculate based on meat availability
                batchesPossible = meatAvailable / fillingRecipe.meat;
                limitingFactor = "meat";
            } else {
                // Calculate based on dough (1kg meat makes 3 batches)
                batchesPossible = meatAvailable / 333;
                limitingFactor = "dough";
            }
            
            empanadasPossible = Math.floor(batchesPossible * 12);
            
            // Calculate all ingredients needed
            const doughBatches = Math.floor(batchesPossible);
            const fillingBatches = Math.floor(batchesPossible);
            
            const doughIngredients = calculateIngredients(doughRecipe, doughBatches);
            const fillingIngredients = calculateIngredients(fillingRecipe, fillingBatches);
            
            // Display results
            let html = `
                <p><strong>With ${meatAvailable}g of meat (limited by ${limitingFactor}):</strong></p>
                <p>You can make ${empanadasPossible} empanadas</p>
                <p>Dough batches needed: ${doughBatches}</p>
                <p>Filling batches needed: ${fillingBatches}</p>
                
                <h4>Additional Ingredients Needed:</h4>
                <ul>
                    <li>Cake flour: ${doughIngredients.cakeFlour}g</li>
                    <li>Bread flour: ${doughIngredients.breadFlour}g</li>
                    <li>Mixed vegetables: ${fillingIngredients.vegetables}g</li>
                    <li>Potato: ${fillingIngredients.potato}g</li>
                    <li>Onion: ${fillingIngredients.onion}g</li>
                </ul>
            `;
            
            ingredientResultsContent.innerHTML = html;
            ingredientResults.style.display = 'block';
        }
        
        // Helper function to calculate scaled ingredients
        function calculateIngredients(recipe, batches) {
            const scaled = {};
            for (const [ingredient, amount] of Object.entries(recipe)) {
                scaled[ingredient] = Math.round(amount * batches * 100) / 100;
            }
            return scaled;
        }
    </script>
</body>
</html>
